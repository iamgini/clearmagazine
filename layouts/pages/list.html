{{ define "main" }}

{{/* Header / Banner */}}
{{ $bg := .Params.banner.image }}

{{ if $bg }}
<section class="section pt-12 pb-10 relative">
  {{ partial "image" (dict
    "Src" $bg
    "Alt" (printf "%s background" .Title)
    "class" "absolute inset-0 w-full h-full object-cover opacity-15"
    "Loading" "eager"
    "DisplayXL" "1600x"
  ) }}
  <div class="container relative">
    <div class="row justify-center">
      <div class="lg:col-8 md:col-10 text-center">
        <h1 class="mb-2 text-h2 lg:text-h1">{{ .Params.banner.title | default .Title }}</h1>
        {{ with .Params.banner.content }}
          <p class="text-lg text-muted">{{ . }}</p>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ else }}
<section class="section pt-12 pb-10">
  <div class="container text-center">
    <h1 class="mb-2 text-h2 lg:text-h1">{{ .Title }}</h1>
    {{ with .Params.banner.content }}
      <p class="text-lg text-muted">{{ . }}</p>
    {{ end }}
  </div>
</section>
{{ end }}

<section class="section pt-8">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <ul class="flex flex-wrap">
          {{ range .Pages.ByTitle }}
          {{ $title := .Title | default .File.BaseFileName }}
          <li>
            <a
              class="m-1 inline-block rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-700 hover:bg-blue-200"
              href="{{ .RelPermalink }}">
                {{ $title }}
            </a>
            </li>
          {{ end }}
        </ul>

      </div>
    </div>
  </div>
</section>

{{ end }}
