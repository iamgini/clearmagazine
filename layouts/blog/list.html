{{ define "main" }}
  {{ partial "post-header" . }}
  <section class="section">
    <div class="container">
      <div class="row">
        {{/* Collect only blog posts and sort newest first */}}
        {{ $posts := where site.RegularPages "Section" "blog" }}
        {{ $sorted := sort $posts "Date" "desc" }}

        {{/* Paginate (default perPage from config, or set a number) */}}
        {{ $paginator := .Paginate $sorted 12 }}

        {{ range $paginator.Pages }}
          <div class="md:col-6 lg:col-4 mb-14">
            {{ partial "components/blog-card" . }}
          </div>
        {{ end }}
      </div>

      {{ partial "components/pagination.html" . }}
    </div>
  </section>
{{ end }}
